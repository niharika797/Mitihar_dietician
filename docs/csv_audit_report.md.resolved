# CSV & Dataset Full Audit Report

## 1. Raw Dataset Analysis

### app\services\datasets for eyantra\datasets for eyantra\datasets for eyantra\Updated_breakfast - Sheet1 (1).csv
**Total Rows:** 304
| Column Name | Data Type | Has Nulls? | Sample (2 rows) |
|---|---|---|---|
| `name` | str | No | ['Mini Onion Vada With Vengaya Sambar Recipe...', 'Carrots &...'] |
| `image_url` | str | No | ['https://www...'] |
| `description` | str | No | ['The Onion Vada Sambar Recipe...'] |
| `cuisine` | str | No | ['Tamil Nadu', 'North Indian Recipes'] |
| `course` | str | No | ['South Indian Breakfast', 'Indian Breakfast'] |
| [diet](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/routers/diet_plans.py#205-225) | str | No | ['Vegetarian', 'Vegetarian'] |
| [ingredients](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/routers/diet_plans.py#260-292) | str | No | ['\r\nIngredients...'] |
| `instructions` | str | No | ['To begin making...'] |
| `calories` | int64 | No | [887, 141] |
| `carbs` | float64 | No | [171.6178013, 29.5517] |
| `protein` | float64 | No | [54.07426, 4.79785] |
| `fiber` | float64 | No | [30.38595, 11.2705] |

### app\services\datasets for eyantra\datasets for eyantra\datasets for eyantra\breakfast_final.csv
**Total Rows:** 91
(Follows the exact same schema as `Updated_breakfast` above - no nulls).
Sample Calories: [1, 3] (Warning: suspicious calorie values).

### app\services\datasets for eyantra\datasets for eyantra\datasets for eyantra\dinner_veg (1).xlsx
**Total Rows:** 815
| Column Name | Data Type | Has Nulls? | Sample (2 rows) |
|---|---|---|---|
| `name` | str | No | ['Broccoli Paneer And Peanut Masala Recipe', 'Kadai Paneer Recipe...'] |
| `image_url` | str | No | ['https://www...'] |
| `description` | str | No | ['Broccoli is an all-star...'] |
| `cuisine` | str | No | ['Indian', 'Punjabi'] |
| `course` | str | Yes (1 nulls) | ['Dinner', 'Dinner'] |
| [diet](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/routers/diet_plans.py#205-225) | str | No | ['Vegetarian', 'Vegetarian'] |
| [ingredients](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/routers/diet_plans.py#260-292) | str | Yes (1 nulls) | ['\n\n\t\t\t...'] |
| `instructions` | str | No | ['To begin with...'] |
| `calories` | object | No | [369, 289] |
| `carbs` | float64 | No | [38.8286, 43.40572444] |
| `protein` | float64 | No | [34.437, 6.885584444] |
| `fiber` | float64 | No | [10.636, 10.46491111] |
| `category` | str | No | ['Curry', 'Curry'] |

### app\services\datasets for eyantra\datasets for eyantra\datasets for eyantra\dinner_veg+nonveg(abc).xlsx
**Total Rows:** 1236
(Same schema as `dinner_veg (1).xlsx`. Has 1 null in `course`, 2 nulls in [ingredients](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/routers/diet_plans.py#260-292)). Includes `Non Vegetarian` diets.

### app\services\datasets for eyantra\datasets for eyantra\datasets for eyantra\fruits_final.csv
**Total Rows:** 21
| Column Name | Data Type | Has Nulls? | Sample (2 rows) |
|---|---|---|---|
| `name` | str | No | ['Apple', 'Avocado '] |
| `protein` | float64 | No | [0.46, 2.95] |
| `total fat` | float64 | No | [0.5, 13.86] |
| `fibre` | float64 | No | [2.54, 6.69] |
| `carbs` | float64 | No | [10.65, 1.75] |
| `calories` | float64 | No | [51.15, 144.36] |

### app\services\datasets for eyantra\datasets for eyantra\datasets for eyantra\lunch_veg(asd).xlsx
**Total Rows:** 539
(Same schema as `dinner_veg (1).xlsx`. 1 null in `course`).

### app\services\datasets for eyantra\datasets for eyantra\datasets for eyantra\lunch_veg+nonveg(dinner (1)).xlsx
**Total Rows:** 874
(Same schema as `dinner_veg (1).xlsx`. 1 null in `course`, 1 null in [ingredients](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/routers/diet_plans.py#260-292)).

### app\services\meal_generator\data\Breakfast.xlsx (and all other datasets in this folder)
(Includes Breakfast_new, Dinner, Dinner_new, Lunch, Lunch_new, Morning_Snack)
**Example Total Rows (Breakfast_new.xlsx):** 156
| Column Name | Data Type | Has Nulls? | Sample (2 rows) |
|---|---|---|---|
| `Sr. No.` | int64 | No | [1, 2] |
| `MENU` | str | No | ['Doi chira', 'Bharbhara'] |
| `calories` | float64 | Yes (4 nulls) | [314.87, 167.5] |
| `Protein` | float64 | Yes (4 nulls) | [7.2502, 5.3865] |
| `Fat` | float64 | Yes (4 nulls) | [4.1226, 0.433] |
| `Fibre` | float64 | No | [3.134, 3.0655] |
| `Sodium` | float64 | No | [23.6222, 6.124999] |
| `Carbs` | float64 | No | [60.7613, 34.468] |
| `CATEGORY` | str | No | ['Sweet', 'Chilla'] |
| `DIET` | str | No | ['Vegetarian', 'Vegetarian'] |
| `TOTAL WEIGHT AFTER COOKING (approx.)` | object | No | ['200g', '110g'] |
| `calories_total` | float64 | Yes (73 nulls)| [314.87, 216.85] |
| `Protein_total` | float64 | Yes (73 nulls)| [7.2502, 9.3905] |
| `Fat_total` | float64 | Yes (73 nulls)| [4.1226, 2.4735] |
| `Fibre_total` | float64 | Yes (73 nulls)| [3.134, 6.758] |
| `Sodium_total` | float64 | Yes (73 nulls)| [23.6222, 33.8905] |
| `Carbs_total` | float64 | Yes (73 nulls)| [60.7613, 37.709] |
| `INGREDIENT` | str | No | ['Rice Flakes, Curd...', 'Gram flour, Onion, Oil'] |
| `AMOUNT (g)` | str | No | ['45.0, 75.0, 8.0...', '45.0, 35.0, 5.0'] |
| `Mapped_Ingredient` | str | Yes (9 nulls)| ['Rice flakes, Curd, whole...', 'Wheat flour...'] |
| `Region` | str | No | ['East', 'East'] |

---

## 2. Where Are These Files Loaded in Code?

1.  **[app/services/meal_generator/data_loader.py](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/services/meal_generator/data_loader.py)** (Lines 18, 20)
    *   **Usage**: Reads the [.xlsx](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/app/services/meal_generator/data/Lunch.xlsx) and [.csv](file:///c:/Users/Lenovo/Desktop/Code/2026/Nutria/Mitihar_dietician/venv/Lib/site-packages/sklearn/datasets/data/iris.csv) files stored in `app/services/meal_generator/data/` based on meal type (Breakfast, Morning_Snacks, Lunch, Dinner).
    *   **Purpose**: These datasets are used by `app/services/meal_generator/meal_generator.py` to calculate a daily meal plan using nutritional similarities to target values.
2.  **`app/services/Healthy.py`** (Line 4)
    *   **Usage**: Reads `pd.read_excel("/kaggle/input/e-yantra-dataset/aa.xlsx")`.
    *   **Purpose**: This script calculates meal plans, *but the hardcoded file path points to a Kaggle directory that does not exist on this machine*. This script appears to be stranded/legacy.

*Note: The datasets inside `app/services/datasets for eyantra/` are completely unused by the active backend logic. They are just sitting in the repository.*

---

## 3. Database Check (MongoDB)

A check of `app/core/database.py` and the active collections via Motor reveals:
*   **Existing Collections**: `['progress', 'users', 'diet_plans']`
*   **Verdict**: There are **no** collections in MongoDB holding raw meal or dataset records. All dataset lookups for meal generation happen in-memory via Pandas from the `.xlsx`/`.csv` files.

---

## 4. Column Name Data Inconsistencies

Flagging columns that represent the exact same concept but wear different names across the files:

*   **Fibre vs. Fiber**:
    *   Spelled `fiber` in the `eyantra` dataset curries (e.g., `lunch_veg(asd).xlsx`).
    *   Spelled `fibre` in `fruits_final.csv`.
    *   Spelled `Fibre` (capital F) in the active `meal_generator` datasets.
*   **Name vs. MENU**:
    *   Called `name` in the `eyantra` and `fruits` datasets.
    *   Called `MENU` in all the active `meal_generator` datasets.
*   **Capitalization Inconsistencies**:
    *   Active `meal_generator` datasets mix capitalization violently: `calories`, `Protein`, `Fat`, `Fibre`, `Sodium`, `Carbs`, `CATEGORY`, `DIET`, `INGREDIENT`.
    *   Meanwhile, the inactive `eyantra` datasets purely use lowercase: `calories`, `protein`, `fiber`, `carbs`, `cuisine`, `course`, `diet`, `ingredients`.
*   **Fats**:
    *   `fruits_final.csv` uses `total fat`.
    *   `meal_generator` datasets use `Fat`.
    *   (Most `eyantra` recipe datasets don't have fat at all!).
*   **Ingredients vs INGREDIENT**:
    *   Called `ingredients` in `eyantra` datasets.
    *   Called `INGREDIENT` in `meal_generator` datasets.

### Conclusion
The codebase actively relies EXCLUSIVELY on the messy, inconsistent spreadsheet files located inside `app/services/meal_generator/data/`. The clean and normalized `eyantra` dataset files are entirely abandoned floating files. The active files have nulls in standard macro fields (Calories, Protein, Fat) and naming conventions that vary from Pandas standard loading procedures.
